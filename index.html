<html>
<head>

  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#facc15">

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://cdn.tailwindcss.com"></script>

  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap"
    rel="stylesheet"
  >

  <style>
    body {
      font-family: 'Poppins', sans-serif;
    }
    .glow {
      box-shadow: 0 0 20px rgba(255, 255, 0, 0.3);
    }

    .cart-bar {
  position: fixed;
  bottom: env(safe-area-inset-bottom);
  left: 0;
  right: 0;
  z-index: 9999;
}

/* Extra safety for Android */
@supports not (bottom: env(safe-area-inset-bottom)) {
  .cart-bar {
    bottom: 0;
  }
}

  </style>
</head>


<body class="bg-gray-900 text-white">

<!-- Header -->
<div class="p-4 bg-gray-800 flex justify-between items-center shadow-lg border-b border-yellow-400 glow">

  <img
  src="/icons/grocery.png"
  alt="CollegeCart"
  class="h-10 cursor-pointer"
  onclick="openSplash()"
/>


  <!-- RIGHT SIDE BUTTONS -->
  <div class="flex gap-2">
    <button onclick="window.location.href='profile.html'"
      class="bg-gray-700 text-white px-3 py-1 rounded font-bold border border-yellow-400">
      My Profile
    </button>

    <button onclick="window.location.href='orders.html'"
      class="bg-yellow-400 text-black px-3 py-1 rounded font-bold">
      My Orders
    </button>
  </div>

</div>


<!-- SEARCH BAR -->
<!-- SEARCH BAR -->
<div class="px-4 mt-4 mb-3">
  <input
    id="searchInput"
    type="text"
    placeholder="Search products..."
    class="w-full p-2 rounded text-black"
    oninput="applyFilters()"
  />
</div>


<!-- CATEGORY BUTTONS -->
<div class="flex gap-2 overflow-x-auto px-4 mb-3" id="categoryBar">
  <button data-category="all"
    onclick="setCategory('all')"
    class="category-btn bg-yellow-400 text-black px-3 py-1 rounded font-bold">
    All
  </button>

  <button data-category="snacks"
    onclick="setCategory('snacks')"
    class="category-btn bg-gray-700 px-3 py-1 rounded">
    Snacks
  </button>

  <button data-category="beverages"
    onclick="setCategory('beverages')"
    class="category-btn bg-gray-700 px-3 py-1 rounded">
    Beverages
  </button>

  <button data-category="stationery"
    onclick="setCategory('stationery')"
    class="category-btn bg-gray-700 px-3 py-1 rounded">
    Stationery
  </button>

  <button data-category="daily-essentials"
    onclick="setCategory('daily-essentials')"
    class="category-btn bg-gray-700 px-3 py-1 rounded">
    Daily
  </button>

  <button data-category="ice-cream"
    onclick="setCategory('ice-cream')"
    class="category-btn bg-gray-700 px-3 py-1 rounded">
    Ice Cream
  </button>
</div>




<div id="products" class="grid grid-cols-2 gap-4 p-4 pb-32"></div>

<!-- Sticky Cart -->
<div id="cartBar"
class="cart-bar fixed left-0 right-0 bg-yellow-400 text-black font-bold text-lg p-4 hidden flex justify-between">


  <span id="cartCount">0 items added</span>

  <button onclick="window.location.href='cart.html'"
  class="bg-black text-white px-4 py-1 rounded">
    View Cart 
  </button>
</div>
<script src="js/config.js"></script>

<script src="js/authGuard.js"></script>
<script>
  checkAuth("student");
</script>


<script src="js/loading.js"></script>
<script src="js/toast.js"></script>
<script src="js/index.js"></script>

<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/service-worker.js");
  }
</script>

<script>
  if ("Notification" in window) {
    if (Notification.permission === "default") {
      Notification.requestPermission().then(permission => {
        console.log("Notification permission:", permission);
      });
    }
  }
</script>



</body>
</html>
